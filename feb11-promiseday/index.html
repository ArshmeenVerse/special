<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Day - For Bubu</title>
    <link rel="stylesheet" href="style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
</head>

<body>

    <!-- Smooth Scroll Container -->
    <div class="scroll-container">

        <!-- SECTION 1: QUIET INTRO -->
        <section class="section intro-section">
            <div class="intro-bg">
                <div class="particles"></div>
                <div class="vignette"></div>
            </div>
            <div class="intro-content">
                <h1 class="intro-text text-1">Promises aren‚Äôt loud.</h1>
                <h1 class="intro-text text-2">They‚Äôre chosen.</h1>
            </div>
        </section>

        <!-- SECTION 2: ENVELOPE (Clickable) -->
        <section class="section envelope-section">
            <div class="envelope-container">
                <div class="envelope" id="envelopeTrigger">
                    <div class="flap"></div>
                    <div class="pocket"></div>
                    <div class="seal">
                        <svg viewBox="0 0 100 100" class="seal-svg">
                            <circle cx="50" cy="50" r="40" fill="#E6B85C" />
                            <path d="M50 20 L50 80 M20 50 L80 50" stroke="#C89B3C" stroke-width="2" opacity="0.5" />
                            <circle cx="50" cy="50" r="30" fill="none" stroke="#C89B3C" stroke-width="2" />
                            <!-- Heart Icon -->
                            <text x="50" y="60" text-anchor="middle" fill="#C89B3C" font-family="Arial, sans-serif"
                                font-size="40">‚ù§Ô∏è</text>
                        </svg>
                    </div>
                    <div class="click-hint">Click to Open</div>
                </div>
            </div>
        </section>

        <!-- LETTER MODAL (Hidden by default) -->
        <div id="letterModal" class="letter-modal">
            <div class="modal-overlay" id="modalOverlay"></div>
            <div class="letter-paper">
                <button class="close-modal-btn" id="closeModalBtn">&times;</button>
                <div class="letter-content">
                    <p class="letter-header">Bubu,</p>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">I promise to listen,</p>
                    </div>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">even when it‚Äôs hard.</p>
                    </div>
                    <br>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">I promise to stay,</p>
                    </div>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">even on difficult days.</p>
                    </div>
                    <br>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">I promise to choose us,</p>
                    </div>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">even when life gets messy.</p>
                    </div>
                    <br>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">Not just today.</p>
                    </div>
                    <div class="promise-line-wrapper">
                        <p class="promise-line">But every day.</p>
                    </div>
                    <br>
                    <p class="letter-sign">‚Äî Yours ü§ç</p>
                </div>
            </div>
        </div>



        <!-- SECTION 5: PROMISE FORM -->
        <section class="section promise-form-section">
            <div class="form-bg-overlay"></div>
            <div class="form-container">
                <h2 class="form-title">Now tell me yours.</h2>
                <p class="form-subtitle">What do you promise?</p>

                <div class="promise-card">
                    <textarea id="promiseInput" placeholder="Write your promise here..." maxlength="500"></textarea>
                    <div class="char-counter">0 / 500</div>
                    <button id="sealBtn" class="seal-btn">Seal It ü§ç</button>
                    <div class="seal-mark hidden"></div>
                </div>

                <p id="confirmationText" class="confirmation-text hidden">Your promise is sealed.</p>
                <p id="timestampText" class="timestamp-text hidden"></p>
            </div>
        </section>

        <!-- PHOTO BOOTH SECTION -->
        <section class="section photobooth-section">
            <h2 class="ph-title">Capture This Promise üì∏</h2>
            <div id="photobooth-container">
                <div class="camera-ui">
                    <video id="camera-feed" autoplay playsinline></video>
                    <canvas id="photo-canvas" style="display:none;"></canvas>
                    <div class="countdown-overlay" id="countdown"></div>
                    <div class="flash-overlay" id="flash"></div>
                </div>
                <div class="controls">
                    <button id="capture-btn" class="ph-btn">Take Photo</button>
                </div>
                <div id="gallery"></div>
            </div>
        </section>

        <!-- SECTION 6: OUTRO -->
        <section class="section outro-section">
            <div class="outro-content">
                <h2 class="outro-text">Two promises.<br>One future.</h2>
            </div>
        </section>

    </div>

    <!-- Music Player -->
    <audio id="bgMusic" loop>
        <source src="../assets/music/promiss-day.mp3" type="audio/mpeg">
    </audio>

    <!-- Music Popup -->
    <div id="musicPopup" class="music-popup">
        <div class="popup-content">
            <h2>Promise Day Melody üé∂</h2>
            <p>Shall we play our song?</p>
            <button id="playMusicBtn">Yes, Play ü§ç</button>
        </div>
    </div>

    <script src="../photobooth.js"></script>
    <script src="script.js"></script>
</body>

</html>